[{"/Users/yudiz/Desktop/react/authentication_using_firebase/src/index.js":"1","/Users/yudiz/Desktop/react/authentication_using_firebase/src/App.js":"2","/Users/yudiz/Desktop/react/authentication_using_firebase/src/pages/HomePage.js":"3","/Users/yudiz/Desktop/react/authentication_using_firebase/src/pages/AuthPage.js":"4","/Users/yudiz/Desktop/react/authentication_using_firebase/src/components/Layout/Layout.js":"5","/Users/yudiz/Desktop/react/authentication_using_firebase/src/components/Profile/UserProfile.js":"6","/Users/yudiz/Desktop/react/authentication_using_firebase/src/components/Layout/MainNavigation.js":"7","/Users/yudiz/Desktop/react/authentication_using_firebase/src/components/StartingPage/StartingPageContent.js":"8","/Users/yudiz/Desktop/react/authentication_using_firebase/src/components/Profile/ProfileForm.js":"9","/Users/yudiz/Desktop/react/authentication_using_firebase/src/components/Auth/AuthForm.js":"10","/Users/yudiz/Desktop/react/authentication_using_firebase/src/store/auth-context.js":"11","/Users/yudiz/Desktop/react/authentication_using_firebase/src/pages/AddPostPage.js":"12","/Users/yudiz/Desktop/react/authentication_using_firebase/src/components/Post/PostFormDisplay.js":"13","/Users/yudiz/Desktop/react/authentication_using_firebase/src/components/Post/PostForm.js":"14"},{"size":346,"mtime":1668068129901,"results":"15","hashOfConfig":"16"},{"size":1165,"mtime":1668083569648,"results":"17","hashOfConfig":"16"},{"size":171,"mtime":1620044595000,"results":"18","hashOfConfig":"16"},{"size":130,"mtime":1620044595000,"results":"19","hashOfConfig":"16"},{"size":246,"mtime":1620044595000,"results":"20","hashOfConfig":"16"},{"size":281,"mtime":1668082566098,"results":"21","hashOfConfig":"16"},{"size":1130,"mtime":1668083504936,"results":"22","hashOfConfig":"16"},{"size":240,"mtime":1620044595000,"results":"23","hashOfConfig":"16"},{"size":1299,"mtime":1668070726110,"results":"24","hashOfConfig":"16"},{"size":3082,"mtime":1668082999417,"results":"25","hashOfConfig":"16"},{"size":2114,"mtime":1668080146830,"results":"26","hashOfConfig":"16"},{"size":156,"mtime":1668083450112,"results":"27","hashOfConfig":"16"},{"size":273,"mtime":1668083396002,"results":"28","hashOfConfig":"16"},{"size":2281,"mtime":1668086375710,"results":"29","hashOfConfig":"16"},{"filePath":"30","messages":"31","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},"10t24ci",{"filePath":"33","messages":"34","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"35","messages":"36","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"37","messages":"38","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"39","messages":"40","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"41","messages":"42","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"43","messages":"44","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"45","messages":"46","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"47","messages":"48","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"49","messages":"50","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"51","messages":"52","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"53","usedDeprecatedRules":"32"},{"filePath":"54","messages":"55","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"56","messages":"57","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"58","messages":"59","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/Users/yudiz/Desktop/react/authentication_using_firebase/src/index.js",[],["60","61"],"/Users/yudiz/Desktop/react/authentication_using_firebase/src/App.js",[],"/Users/yudiz/Desktop/react/authentication_using_firebase/src/pages/HomePage.js",[],"/Users/yudiz/Desktop/react/authentication_using_firebase/src/pages/AuthPage.js",[],"/Users/yudiz/Desktop/react/authentication_using_firebase/src/components/Layout/Layout.js",[],"/Users/yudiz/Desktop/react/authentication_using_firebase/src/components/Profile/UserProfile.js",[],"/Users/yudiz/Desktop/react/authentication_using_firebase/src/components/Layout/MainNavigation.js",[],"/Users/yudiz/Desktop/react/authentication_using_firebase/src/components/StartingPage/StartingPageContent.js",[],"/Users/yudiz/Desktop/react/authentication_using_firebase/src/components/Profile/ProfileForm.js",[],"/Users/yudiz/Desktop/react/authentication_using_firebase/src/components/Auth/AuthForm.js",[],"/Users/yudiz/Desktop/react/authentication_using_firebase/src/store/auth-context.js",["62"],"import React, { useCallback, useEffect, useState } from \"react\";\n\nlet logoutTimer;\nconst AuthContext = React.createContext({\n  token: \"\",\n  isLoggedIn: false,\n  login: (token) => {},\n  logout: () => {},\n});\nconst calculateRemainingTime = (expirationTime) => {\n  const currentTime = new Date().getTime();\n  const adjExpirationTime = new Date(expirationTime).getTime();\n\n  const remainingDuration = adjExpirationTime - currentTime;\n  return remainingDuration;\n};\n\nconst retrieveStoredToken = () => {\n  const storedToken = localStorage.getItem(\"token\");\n  const storedExpirationDate = localStorage.getItem(\"expirationTime\");\n  const remainingTime = calculateRemainingTime(storedExpirationDate);\n  if (remainingTime <= 3600) {\n    localStorage.removeItem(\"token\");\n    localStorage.removeItem(\"expirationTime\");\n    return null;\n  }\n  return {\n    token: storedToken,\n    duration: remainingTime,\n  };\n};\nexport const AuthContextProvider = (props) => {\n  const tokenData = retrieveStoredToken();\n  let initialToken;\n\n  if (tokenData) {\n    initialToken = tokenData.token;\n  }\n  const [token, setToken] = useState(initialToken);\n\n  const userIsLoggedIn = !!token;\n\n  const logoutHandler = useCallback(() => {\n    setToken(null);\n    localStorage.removeItem(\"token\");\n    localStorage.removeItem(\"expirationTime\");\n\n    if (logoutTimer) {\n      clearTimeout(logoutTimer);\n    }\n  },[]);\n\n  const loginHandler = (token, expirationTime) => {\n    setToken(token);\n    localStorage.setItem(\"token\", token);\n    localStorage.setItem(\"expirationTime\", expirationTime);\n    const remainingTime = calculateRemainingTime(expirationTime);\n    logoutTimer = setTimeout(logoutHandler, remainingTime);\n  };\n\n  useEffect(() => {\n    if (token) {\n      logoutTimer = setTimeout(logoutHandler, tokenData.duration);\n    }\n  }, [tokenData, logoutHandler]);\n\n  const contextValue = {\n    token: token,\n    isLoggedIn: userIsLoggedIn,\n    login: loginHandler,\n    logout: logoutHandler,\n  };\n\n  return (\n    <AuthContext.Provider value={contextValue}>\n      {props.children}\n    </AuthContext.Provider>\n  );\n};\n\nexport default AuthContext;\n","/Users/yudiz/Desktop/react/authentication_using_firebase/src/pages/AddPostPage.js",[],"/Users/yudiz/Desktop/react/authentication_using_firebase/src/components/Post/PostFormDisplay.js",[],"/Users/yudiz/Desktop/react/authentication_using_firebase/src/components/Post/PostForm.js",["63","64","65"],{"ruleId":"66","replacedBy":"67"},{"ruleId":"68","replacedBy":"69"},{"ruleId":"70","severity":1,"message":"71","line":65,"column":6,"nodeType":"72","endLine":65,"endColumn":32,"suggestions":"73"},{"ruleId":"74","severity":1,"message":"75","line":1,"column":10,"nodeType":"76","messageId":"77","endLine":1,"endColumn":20},{"ruleId":"74","severity":1,"message":"78","line":1,"column":22,"nodeType":"76","messageId":"77","endLine":1,"endColumn":28},{"ruleId":"74","severity":1,"message":"79","line":3,"column":8,"nodeType":"76","messageId":"77","endLine":3,"endColumn":19},"no-native-reassign",["80"],"no-negated-in-lhs",["81"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'token'. Either include it or remove the dependency array.","ArrayExpression",["82"],"no-unused-vars","'useContext' is defined but never used.","Identifier","unusedVar","'useRef' is defined but never used.","'AuthContext' is defined but never used.","no-global-assign","no-unsafe-negation",{"desc":"83","fix":"84"},"Update the dependencies array to be: [tokenData, logoutHandler, token]",{"range":"85","text":"86"},[1804,1830],"[tokenData, logoutHandler, token]"]